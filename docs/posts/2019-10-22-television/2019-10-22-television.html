<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Andy">
<meta name="dcterms.date" content="2019-10-22">

<title>Andrew Zieffler - Television</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="../../site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="../../site_libs/plotly-binding-4.10.3/plotly.js"></script>
<script src="../../site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="../../site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="../../site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="../../site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="../../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="../../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital@0;1&amp;display=swap" rel="stylesheet">  


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Andrew Zieffler</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../contact.html" rel="" target="">
 <span class="menu-text">Contact</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://datadreaming.org/files/zieffler-cv.pdf" rel="" target="">
 <span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../publications.html" rel="" target="">
 <span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../teaching.html" rel="" target="">
 <span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../posts.html" rel="" target="">
 <span class="menu-text">Blog</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Television</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">Miscellaneous</div>
                <div class="quarto-category">R</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Andy </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">October 22, 2019</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#current-tv-habits-and-more-cutting" id="toc-current-tv-habits-and-more-cutting" class="nav-link active" data-scroll-target="#current-tv-habits-and-more-cutting">Current TV Habits and More Cutting</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">



<p>./assets/body-header.qmd</p>
<p>In 2017, my wife and I were fed up with the cost of cable television and were considering “cutting the cord”. In addition to cable, we also had Hulu, Netflix, and Amazon Prime, so our hypothesis was that we probably didn’t need cable. Before making the decision to cut cable, I wanted some data to help ensure that I would not be eliminating many of the TV shows that I watched. So, I started recording every episode of every TV show that I watched in a Google Sheet.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load libraries</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Import data</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>tv <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="st">"~/Documents/data/andy_tv.csv"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>()</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co"># View data</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(tv)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
   Year Media   Network      Show       Season   Episode  Time Episode_name  
  &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;        &lt;chr&gt;      &lt;chr&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;         
1  2018 Netflix CBC (Canada) 21 Thunder Season 1       1    44 Pilot         
2  2018 Netflix CBC (Canada) 21 Thunder Season 1       2    43 Road Game     
3  2018 Netflix CBC (Canada) 21 Thunder Season 1       3    43 Freefalling   
4  2018 Netflix CBC (Canada) 21 Thunder Season 1       4    43 Fixed         
5  2018 Netflix CBC (Canada) 21 Thunder Season 1       5    43 Heaven Or Hell
6  2018 Netflix CBC (Canada) 21 Thunder Season 1       6    43 War           </code></pre>
</div>
</div>
<p>I then used Plotly to create a hierarchical donut plot of the shows and media I used to view those shows. (Note. At the time I only had my 2017 data, but now, since I have several years worth of data I need to filter to get the 2017 data.)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter 2017 data</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>tv_2017 <span class="ot">=</span> tv <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Year <span class="sc">==</span> <span class="dv">2017</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute time per show for better plotting</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>tv17 <span class="ot">=</span> tv_2017 <span class="sc">%&gt;%</span> </span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Media, Show, Network) <span class="sc">%&gt;%</span> </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Time =</span> <span class="fu">sum</span>(Time)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Show, Media, Time) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'Media', 'Show'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(tv17)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  Show                 Media         Time
  &lt;chr&gt;                &lt;chr&gt;        &lt;dbl&gt;
1 Bosch                Amazon Prime   805
2 Goliath              Amazon Prime   448
3 Mozart in the Jungle Amazon Prime   814
4 Private Sales        Amazon Prime   140
5 Red Oaks             Amazon Prime   834
6 Vikings              Amazon Prime   836</code></pre>
</div>
</div>
<p>I then looked for duplicate TV programs across media so that I could combine them. For example, I was watching Vikings at the time on Cable, but it was also available on Hulu.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Find duplicates</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co">#tv17 %&gt;% get_dupes(Show)</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine duplicates</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>tv17[tv17<span class="sc">$</span>Show <span class="sc">==</span> <span class="st">"Lucifer"</span> <span class="sc">&amp;</span> tv17<span class="sc">$</span>Media <span class="sc">==</span> <span class="st">"Cable"</span>, ]<span class="sc">$</span>Show <span class="ot">=</span> <span class="st">"Lucifer "</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>tv17[tv17<span class="sc">$</span>Show <span class="sc">==</span> <span class="st">"Madam Secretary"</span> <span class="sc">&amp;</span> tv17<span class="sc">$</span>Media <span class="sc">==</span> <span class="st">"Cable"</span>, ]<span class="sc">$</span>Show <span class="ot">=</span> <span class="st">"Madam Secretary "</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>tv17[tv17<span class="sc">$</span>Show <span class="sc">==</span> <span class="st">"Vikings"</span> <span class="sc">&amp;</span> tv17<span class="sc">$</span>Media <span class="sc">==</span> <span class="st">"Hulu"</span>, ]<span class="sc">$</span>Show <span class="ot">=</span> <span class="st">"Vikings "</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Lastly, I needed to obtain the the time for each media outlet and the total time across all outlets to correctly plot the heirarchy in the donut plot.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Obtain time by media outlet</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>second <span class="ot">=</span> tv17 <span class="sc">%&gt;%</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Media) <span class="sc">%&gt;%</span> </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Time =</span> <span class="fu">sum</span>(Time)) <span class="sc">%&gt;%</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Show =</span> Media, <span class="at">Media =</span> <span class="st">"2017"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Show, Media, Time) </span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Obtain total time</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>first <span class="ot">=</span> <span class="fu">data.frame</span>(</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">Show =</span> <span class="st">"2017"</span>, </span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">Media =</span> <span class="st">""</span>,</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">Time =</span> <span class="fu">sum</span>(second<span class="sc">$</span>Time)</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the hierarchies</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>tv_17 <span class="ot">=</span> <span class="fu">rbind</span>(first, second, tv17)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Finally I could use the <code>plot_ly()</code> function from the <strong>plotly</strong> library to create the donut plot.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_ly</span>(tv_17) <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="sc">~</span>Show,</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">hoverinfo =</span> <span class="st">'text'</span>,</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">hovertext =</span> <span class="sc">~</span><span class="fu">paste</span>(<span class="st">"&lt;b&gt;"</span>, Show, <span class="st">'&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;Time Watching: '</span>, <span class="fu">round</span>(Time<span class="sc">/</span><span class="dv">60</span>, <span class="dv">1</span>), <span class="st">' Hours'</span>),</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">parents =</span> <span class="sc">~</span>Media,</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="sc">~</span>Time,</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">'sunburst'</span>,</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">branchvalues =</span> <span class="st">'total'</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">sunburstcolorway =</span> <span class="fu">c</span>(</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>      <span class="st">"#cc2a36"</span>,<span class="st">"#edc951"</span>,<span class="st">"#4f372d"</span>, <span class="st">"#00a0b0"</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-d5f9a3fefae21685a4fd" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-d5f9a3fefae21685a4fd">{"x":{"visdat":{"267298cd782":["function () ","plotlyVisDat"]},"cur_data":"267298cd782","attrs":{"267298cd782":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"labels":{},"hoverinfo":"text","hovertext":{},"parents":{},"values":{},"type":"sunburst","branchvalues":"total","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"sunburstcolorway":["#cc2a36","#edc951","#4f372d","#00a0b0"],"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"labels":["2017","Amazon Prime","Cable","Hulu","Netflix","Bosch","Goliath","Mozart in the Jungle","Private Sales","Red Oaks","Vikings","Z: The Beginning of Everything","Animal Kingdon","Ballers","Better Call Saul","Billions","Designated Survivor","Divorce","Fargo","Game of Thrones","Girls","Homeland","Lucifer ","Madam Secretary ","Ray Donovan","Taken","The Affair","The Americans","Turn: Washington's Spies","Will","30 for 30: Shorts","Atlanta","Behind the Mask","Brothers and Sisters","Casual","Chance","Dates","Empire","Fields of Glory","Harlots","Lucifer","Manhattan","Matador","Pitch","Shut Eye","Smallville","The Brave","The Good Doctor","The Last Panthers","The Path","This is Us","Top of the Lake","Unreal","Vikings ","You're the Worst","American Vandal","Arrested Development","Atypical","Bloodline","Bordertown","Californication","Easy","Flaked","Friends with Benefits","Gilmore Girls","Girlboss","Halt and Catch Fire","Hip-Hop Evolution","House of Cards","Last Chance U","Longmire","Lovesick","Madam Secretary","Marvel's Daredevil","Merli","Mindhunter","Mossad 101","Narcos","New Girl","Ozark","Rectify","Riverdale","Royal Pains","Shameless","Sherlock","Shooter","Sirens","Stranger Things","The Finder","The Magicians","The Method","The Night Shift","The Punisher","Zoo"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"hovertext":["<b> 2017 <\/b><br /><br />Time Watching:  963.7  Hours","<b> Amazon Prime <\/b><br /><br />Time Watching:  69.1  Hours","<b> Cable <\/b><br /><br />Time Watching:  147.8  Hours","<b> Hulu <\/b><br /><br />Time Watching:  259.6  Hours","<b> Netflix <\/b><br /><br />Time Watching:  487.2  Hours","<b> Bosch <\/b><br /><br />Time Watching:  13.4  Hours","<b> Goliath <\/b><br /><br />Time Watching:  7.5  Hours","<b> Mozart in the Jungle <\/b><br /><br />Time Watching:  13.6  Hours","<b> Private Sales <\/b><br /><br />Time Watching:  2.3  Hours","<b> Red Oaks <\/b><br /><br />Time Watching:  13.9  Hours","<b> Vikings <\/b><br /><br />Time Watching:  13.9  Hours","<b> Z: The Beginning of Everything <\/b><br /><br />Time Watching:  4.5  Hours","<b> Animal Kingdon <\/b><br /><br />Time Watching:  4.9  Hours","<b> Ballers <\/b><br /><br />Time Watching:  6.4  Hours","<b> Better Call Saul <\/b><br /><br />Time Watching:  8.2  Hours","<b> Billions <\/b><br /><br />Time Watching:  11.5  Hours","<b> Designated Survivor <\/b><br /><br />Time Watching:  7.1  Hours","<b> Divorce <\/b><br /><br />Time Watching:  3.9  Hours","<b> Fargo <\/b><br /><br />Time Watching:  8.6  Hours","<b> Game of Thrones <\/b><br /><br />Time Watching:  8.2  Hours","<b> Girls <\/b><br /><br />Time Watching:  5.4  Hours","<b> Homeland <\/b><br /><br />Time Watching:  10  Hours","<b> Lucifer  <\/b><br /><br />Time Watching:  12.9  Hours","<b> Madam Secretary  <\/b><br /><br />Time Watching:  18.6  Hours","<b> Ray Donovan <\/b><br /><br />Time Watching:  9.4  Hours","<b> Taken <\/b><br /><br />Time Watching:  2.1  Hours","<b> The Affair <\/b><br /><br />Time Watching:  4.7  Hours","<b> The Americans <\/b><br /><br />Time Watching:  10.1  Hours","<b> Turn: Washington's Spies <\/b><br /><br />Time Watching:  7.3  Hours","<b> Will <\/b><br /><br />Time Watching:  8.2  Hours","<b> 30 for 30: Shorts <\/b><br /><br />Time Watching:  7.7  Hours","<b> Atlanta <\/b><br /><br />Time Watching:  4  Hours","<b> Behind the Mask <\/b><br /><br />Time Watching:  4.6  Hours","<b> Brothers and Sisters <\/b><br /><br />Time Watching:  61.8  Hours","<b> Casual <\/b><br /><br />Time Watching:  6.4  Hours","<b> Chance <\/b><br /><br />Time Watching:  7.4  Hours","<b> Dates <\/b><br /><br />Time Watching:  3.5  Hours","<b> Empire <\/b><br /><br />Time Watching:  2.2  Hours","<b> Fields of Glory <\/b><br /><br />Time Watching:  4  Hours","<b> Harlots <\/b><br /><br />Time Watching:  6.2  Hours","<b> Lucifer <\/b><br /><br />Time Watching:  7.9  Hours","<b> Manhattan <\/b><br /><br />Time Watching:  18.5  Hours","<b> Matador <\/b><br /><br />Time Watching:  4.4  Hours","<b> Pitch <\/b><br /><br />Time Watching:  7.2  Hours","<b> Shut Eye <\/b><br /><br />Time Watching:  7.3  Hours","<b> Smallville <\/b><br /><br />Time Watching:  8.8  Hours","<b> The Brave <\/b><br /><br />Time Watching:  3.5  Hours","<b> The Good Doctor <\/b><br /><br />Time Watching:  14.2  Hours","<b> The Last Panthers <\/b><br /><br />Time Watching:  4.9  Hours","<b> The Path <\/b><br /><br />Time Watching:  9.5  Hours","<b> This is Us <\/b><br /><br />Time Watching:  12.8  Hours","<b> Top of the Lake <\/b><br /><br />Time Watching:  11.7  Hours","<b> Unreal <\/b><br /><br />Time Watching:  13.9  Hours","<b> Vikings  <\/b><br /><br />Time Watching:  22  Hours","<b> You're the Worst <\/b><br /><br />Time Watching:  5.3  Hours","<b> American Vandal <\/b><br /><br />Time Watching:  4.4  Hours","<b> Arrested Development <\/b><br /><br />Time Watching:  0.3  Hours","<b> Atypical <\/b><br /><br />Time Watching:  4.3  Hours","<b> Bloodline <\/b><br /><br />Time Watching:  9.2  Hours","<b> Bordertown <\/b><br /><br />Time Watching:  10.3  Hours","<b> Californication <\/b><br /><br />Time Watching:  38.9  Hours","<b> Easy <\/b><br /><br />Time Watching:  0.4  Hours","<b> Flaked <\/b><br /><br />Time Watching:  7.6  Hours","<b> Friends with Benefits <\/b><br /><br />Time Watching:  4.5  Hours","<b> Gilmore Girls <\/b><br /><br />Time Watching:  31.7  Hours","<b> Girlboss <\/b><br /><br />Time Watching:  0.5  Hours","<b> Halt and Catch Fire <\/b><br /><br />Time Watching:  7.4  Hours","<b> Hip-Hop Evolution <\/b><br /><br />Time Watching:  3.1  Hours","<b> House of Cards <\/b><br /><br />Time Watching:  9.4  Hours","<b> Last Chance U <\/b><br /><br />Time Watching:  8.3  Hours","<b> Longmire <\/b><br /><br />Time Watching:  20.9  Hours","<b> Lovesick <\/b><br /><br />Time Watching:  2.8  Hours","<b> Madam Secretary <\/b><br /><br />Time Watching:  16.4  Hours","<b> Marvel's Daredevil <\/b><br /><br />Time Watching:  15.7  Hours","<b> Merli <\/b><br /><br />Time Watching:  6.3  Hours","<b> Mindhunter <\/b><br /><br />Time Watching:  8.3  Hours","<b> Mossad 101 <\/b><br /><br />Time Watching:  3.9  Hours","<b> Narcos <\/b><br /><br />Time Watching:  17.6  Hours","<b> New Girl <\/b><br /><br />Time Watching:  7.7  Hours","<b> Ozark <\/b><br /><br />Time Watching:  9.9  Hours","<b> Rectify <\/b><br /><br />Time Watching:  22.9  Hours","<b> Riverdale <\/b><br /><br />Time Watching:  9.2  Hours","<b> Royal Pains <\/b><br /><br />Time Watching:  52.5  Hours","<b> Shameless <\/b><br /><br />Time Watching:  54.9  Hours","<b> Sherlock <\/b><br /><br />Time Watching:  3  Hours","<b> Shooter <\/b><br /><br />Time Watching:  6.8  Hours","<b> Sirens <\/b><br /><br />Time Watching:  1.8  Hours","<b> Stranger Things <\/b><br /><br />Time Watching:  7.6  Hours","<b> The Finder <\/b><br /><br />Time Watching:  9.4  Hours","<b> The Magicians <\/b><br /><br />Time Watching:  10.9  Hours","<b> The Method <\/b><br /><br />Time Watching:  1.7  Hours","<b> The Night Shift <\/b><br /><br />Time Watching:  24.4  Hours","<b> The Punisher <\/b><br /><br />Time Watching:  11.4  Hours","<b> Zoo <\/b><br /><br />Time Watching:  20.8  Hours"],"parents":["","2017","2017","2017","2017","Amazon Prime","Amazon Prime","Amazon Prime","Amazon Prime","Amazon Prime","Amazon Prime","Amazon Prime","Cable","Cable","Cable","Cable","Cable","Cable","Cable","Cable","Cable","Cable","Cable","Cable","Cable","Cable","Cable","Cable","Cable","Cable","Hulu","Hulu","Hulu","Hulu","Hulu","Hulu","Hulu","Hulu","Hulu","Hulu","Hulu","Hulu","Hulu","Hulu","Hulu","Hulu","Hulu","Hulu","Hulu","Hulu","Hulu","Hulu","Hulu","Hulu","Hulu","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix"],"values":[57823,4148,8866,15575,29234,805,448,814,140,834,836,271,295,385,495,691,425,233,517,494,324,600,777,1114,567,126,281,607,441,494,464,237,274,3705,383,444,207,130,242,374,473,1111,262,433,441,526,209,853,294,568,771,700,837,1321,316,267,21,260,551,620,2332,26,454,272,1903,29,442,188,564,496,1252,167,986,939,381,499,234,1054,463,595,1376,549,3148,3295,177,411,108,458,565,653,100,1464,685,1250],"type":"sunburst","branchvalues":"total","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(255,255,255,1)"}},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>TV shows Andy watched in 2017.</p>
</div>
</div>
<p>It turns out that most of what I was watching was through the streaming services and not cable. Those shows that I was watching on cable are also either on premium channels (e.g., HBO and Showtime) which are available as separate add-ons to most streaming services, or were shows that were also available on Hulu.</p>
<p>I realized that after the fact, the one important thing I didn’t collect data on was live sports. This, it turns out, is quite important. Both my wife and I love college football and watching these games without having to leave the house every weekend means that we do need to have some sort of live TV option. Ultimately, we switched to Hulu Live which turned out to be a huge cost savings relative to cable. We chose this streaming service because of the sports channel options without needing an additional sports package; the big decider was that Hulu Live had BTN. (Reality check: Watching live sports on Hulu Live is not without its pain. It buffers more than I would like, especially during evernts that are more highly viewed. This seems to be especially true with any of the Fox stations (FSN, FS1, Fox) which televises many of the MLB, NFL, and NHL games I watch.)</p>
<section id="current-tv-habits-and-more-cutting" class="level2">
<h2 class="anchored" data-anchor-id="current-tv-habits-and-more-cutting">Current TV Habits and More Cutting</h2>
<p>I have continued to collect data on the TV shows I watch. I still haven’t collected data about the live sports I watch, but that is restricted to particular stations such as ESPN, ESPN2, FSN, FS1, FS2 (occasionally), and BTN. My sense is that the a la carte options we have long dreamed of, are in some ways here. Unfortunately, it is not quite the correct vision. Most a la carte options are still tied to particular channels or suites of channels rather than individual programs. And it is still cheaper to purchase those channels via a streaming service than to buy the episodes of the shows I like.</p>
<p>More options open up for streaming TV (Apple TV, Disney) everyday. In addition to Hulu Live, Youtube TV, Sling, and Playstation Vue (the options when we looked in 2017), there are many more: Apple TV, Disney, fubo, CBS, etc. The main differentiator seems to be channel selection, so it seems relevant to look at the network that produce and air the shows I like. Below I create a similar donut chart for my TV data, this time by network, since 2017.</p>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'Network'. You can override using the
`.groups` argument.
`summarise()` has grouped output by 'Network'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-a336f30d88a8f73a2d0f" style="width:100%;height:400px;"></div>
<script type="application/json" data-for="htmlwidget-a336f30d88a8f73a2d0f">{"x":{"visdat":{"267528d7aec":["function () ","plotlyVisDat"]},"cur_data":"267528d7aec","attrs":{"267528d7aec":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"labels":{},"hoverinfo":"text","hovertext":{},"parents":{},"values":{},"type":"sunburst","branchvalues":"total","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"labels":["2018","1TV (Russia)","ABC","ABC1 (Australia)","Amazon","BBC One","BBC Two","CBC (Canada)","CBS","Channel 4","Citytv (Canada)","Crave","E4 (UK)","Eleven (Australia)","Epix","F/X","FX","Fox","Freeform","HBO","Hallmark Channel","History","Hulu","ICTV (Ukraine)","IFC","Lifetime","M6 (France)","NBC","Netflix","Prime Video","Showtime","Syfy","TF1 (France)","TNT","TV Land","TV3 (Catalan)","The CW","USA","The Method","American Crime","Boston Legal","Harrow","The Good Doctor","The Rookie","Dance Academy","Rake","American Playboy: The Hugh Hefner Story","Mozart in the Jungle","Bodyguard","Sherlock","The World's Most Extraordinary Homes","21 Thunder","Schitt's Creek","Blue Bloods","Criminal Minds","Life in Pieces","Limitless","Loaded","Bad Blood","Letterkenny","Beaver Falls","The Inbetweeners","Bondi Ink Tattoo Crew","Get Shorty","The Americans","Mayans M.C.","New Girl","The Resident","The Bold Type","Ballers","Billions","Succession","The Deuce","Good Witch","Six","Casual","Unreal","The Sniffer","Brockmire","Unreal","The Frozen Dead","A.P. Bio","Great News","New Amsterdam","Strong","The Night Shift","Amazing Interiors","American Vandal","Atypical","Black Mirror","Car Masters: Rust to Riches","Coach Snoop","Dope","Everything Sucks!","Fastest Car","House of Cards","Jack Whitehall: Travels with My Father","Last Chance U: INDY Part 1","Making a Murderer","Marching Orders","Marvel's Daredevil","My Next Guest Needs No Introduction With David Letterman","Queer Eye: More Than a Makeover","Santa Clarita Diet","The Good Cop","The Kominsky Method","The Toys That Made Us","Warrior","Wolf","All or Nothing: New Zealand All Blacks","Goliath","Homecoming","Homeland","Shameless","Wynonna Earp","La Mante","Good Behavior","Younger","Merlí","Black Lightning","Dynasty","Gossip Girl","Hart of Dixie","Riverdale","Queen of the South","Shooter","The Sinner: Cora"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"hovertext":["<b> 2018 <\/b><br /><br />Time Watching:  820.9  Hours","<b> 1TV (Russia) <\/b><br /><br />Time Watching:  25.8  Hours","<b> ABC <\/b><br /><br />Time Watching:  121.8  Hours","<b> ABC1 (Australia) <\/b><br /><br />Time Watching:  2.1  Hours","<b> Amazon <\/b><br /><br />Time Watching:  11.6  Hours","<b> BBC One <\/b><br /><br />Time Watching:  10.5  Hours","<b> BBC Two <\/b><br /><br />Time Watching:  1.5  Hours","<b> CBC (Canada) <\/b><br /><br />Time Watching:  6.1  Hours","<b> CBS <\/b><br /><br />Time Watching:  198.5  Hours","<b> Channel 4 <\/b><br /><br />Time Watching:  0.7  Hours","<b> Citytv (Canada) <\/b><br /><br />Time Watching:  4.7  Hours","<b> Crave <\/b><br /><br />Time Watching:  5.3  Hours","<b> E4 (UK) <\/b><br /><br />Time Watching:  16.3  Hours","<b> Eleven (Australia) <\/b><br /><br />Time Watching:  16  Hours","<b> Epix <\/b><br /><br />Time Watching:  8.5  Hours","<b> F/X <\/b><br /><br />Time Watching:  8.8  Hours","<b> FX <\/b><br /><br />Time Watching:  2.9  Hours","<b> Fox <\/b><br /><br />Time Watching:  25.2  Hours","<b> Freeform <\/b><br /><br />Time Watching:  14  Hours","<b> HBO <\/b><br /><br />Time Watching:  43.9  Hours","<b> Hallmark Channel <\/b><br /><br />Time Watching:  0.7  Hours","<b> History <\/b><br /><br />Time Watching:  13  Hours","<b> Hulu <\/b><br /><br />Time Watching:  9.7  Hours","<b> ICTV (Ukraine) <\/b><br /><br />Time Watching:  0.8  Hours","<b> IFC <\/b><br /><br />Time Watching:  5.9  Hours","<b> Lifetime <\/b><br /><br />Time Watching:  7  Hours","<b> M6 (France) <\/b><br /><br />Time Watching:  0.8  Hours","<b> NBC <\/b><br /><br />Time Watching:  25.6  Hours","<b> Netflix <\/b><br /><br />Time Watching:  94  Hours","<b> Prime Video <\/b><br /><br />Time Watching:  16.4  Hours","<b> Showtime <\/b><br /><br />Time Watching:  40.9  Hours","<b> Syfy <\/b><br /><br />Time Watching:  2.1  Hours","<b> TF1 (France) <\/b><br /><br />Time Watching:  5.5  Hours","<b> TNT <\/b><br /><br />Time Watching:  8.1  Hours","<b> TV Land <\/b><br /><br />Time Watching:  22.7  Hours","<b> TV3 (Catalan) <\/b><br /><br />Time Watching:  0.8  Hours","<b> The CW <\/b><br /><br />Time Watching:  17.4  Hours","<b> USA <\/b><br /><br />Time Watching:  25  Hours","<b> The Method <\/b><br /><br />Time Watching:  25.8  Hours","<b> American Crime <\/b><br /><br />Time Watching:  20.7  Hours","<b> Boston Legal <\/b><br /><br />Time Watching:  73.2  Hours","<b> Harrow <\/b><br /><br />Time Watching:  8.7  Hours","<b> The Good Doctor <\/b><br /><br />Time Watching:  13.6  Hours","<b> The Rookie <\/b><br /><br />Time Watching:  5.7  Hours","<b> Dance Academy <\/b><br /><br />Time Watching:  0.4  Hours","<b> Rake <\/b><br /><br />Time Watching:  1.7  Hours","<b> American Playboy: The Hugh Hefner Story <\/b><br /><br />Time Watching:  6.9  Hours","<b> Mozart in the Jungle <\/b><br /><br />Time Watching:  4.7  Hours","<b> Bodyguard <\/b><br /><br />Time Watching:  6  Hours","<b> Sherlock <\/b><br /><br />Time Watching:  4.4  Hours","<b> The World's Most Extraordinary Homes <\/b><br /><br />Time Watching:  1.5  Hours","<b> 21 Thunder <\/b><br /><br />Time Watching:  5.8  Hours","<b> Schitt's Creek <\/b><br /><br />Time Watching:  0.3  Hours","<b> Blue Bloods <\/b><br /><br />Time Watching:  122.2  Hours","<b> Criminal Minds <\/b><br /><br />Time Watching:  74.9  Hours","<b> Life in Pieces <\/b><br /><br />Time Watching:  0.7  Hours","<b> Limitless <\/b><br /><br />Time Watching:  0.7  Hours","<b> Loaded <\/b><br /><br />Time Watching:  0.7  Hours","<b> Bad Blood <\/b><br /><br />Time Watching:  4.7  Hours","<b> Letterkenny <\/b><br /><br />Time Watching:  5.3  Hours","<b> Beaver Falls <\/b><br /><br />Time Watching:  9.2  Hours","<b> The Inbetweeners <\/b><br /><br />Time Watching:  7.2  Hours","<b> Bondi Ink Tattoo Crew <\/b><br /><br />Time Watching:  16  Hours","<b> Get Shorty <\/b><br /><br />Time Watching:  8.5  Hours","<b> The Americans <\/b><br /><br />Time Watching:  8.8  Hours","<b> Mayans M.C. <\/b><br /><br />Time Watching:  2.9  Hours","<b> New Girl <\/b><br /><br />Time Watching:  8  Hours","<b> The Resident <\/b><br /><br />Time Watching:  17.2  Hours","<b> The Bold Type <\/b><br /><br />Time Watching:  14  Hours","<b> Ballers <\/b><br /><br />Time Watching:  4.3  Hours","<b> Billions <\/b><br /><br />Time Watching:  11.4  Hours","<b> Succession <\/b><br /><br />Time Watching:  10.2  Hours","<b> The Deuce <\/b><br /><br />Time Watching:  17.9  Hours","<b> Good Witch <\/b><br /><br />Time Watching:  0.7  Hours","<b> Six <\/b><br /><br />Time Watching:  13  Hours","<b> Casual <\/b><br /><br />Time Watching:  4.1  Hours","<b> Unreal <\/b><br /><br />Time Watching:  5.6  Hours","<b> The Sniffer <\/b><br /><br />Time Watching:  0.8  Hours","<b> Brockmire <\/b><br /><br />Time Watching:  5.9  Hours","<b> Unreal <\/b><br /><br />Time Watching:  7  Hours","<b> The Frozen Dead <\/b><br /><br />Time Watching:  0.8  Hours","<b> A.P. Bio <\/b><br /><br />Time Watching:  4.6  Hours","<b> Great News <\/b><br /><br />Time Watching:  0.7  Hours","<b> New Amsterdam <\/b><br /><br />Time Watching:  6.4  Hours","<b> Strong <\/b><br /><br />Time Watching:  6.7  Hours","<b> The Night Shift <\/b><br /><br />Time Watching:  7.2  Hours","<b> Amazing Interiors <\/b><br /><br />Time Watching:  5  Hours","<b> American Vandal <\/b><br /><br />Time Watching:  2.7  Hours","<b> Atypical <\/b><br /><br />Time Watching:  5  Hours","<b> Black Mirror <\/b><br /><br />Time Watching:  0.7  Hours","<b> Car Masters: Rust to Riches <\/b><br /><br />Time Watching:  4.9  Hours","<b> Coach Snoop <\/b><br /><br />Time Watching:  0.5  Hours","<b> Dope <\/b><br /><br />Time Watching:  6  Hours","<b> Everything Sucks! <\/b><br /><br />Time Watching:  4  Hours","<b> Fastest Car <\/b><br /><br />Time Watching:  0.7  Hours","<b> House of Cards <\/b><br /><br />Time Watching:  1.7  Hours","<b> Jack Whitehall: Travels with My Father <\/b><br /><br />Time Watching:  5.4  Hours","<b> Last Chance U: INDY Part 1 <\/b><br /><br />Time Watching:  4.2  Hours","<b> Making a Murderer <\/b><br /><br />Time Watching:  10.6  Hours","<b> Marching Orders <\/b><br /><br />Time Watching:  2.2  Hours","<b> Marvel's Daredevil <\/b><br /><br />Time Watching:  11.1  Hours","<b> My Next Guest Needs No Introduction With David Letterman <\/b><br /><br />Time Watching:  6.1  Hours","<b> Queer Eye: More Than a Makeover <\/b><br /><br />Time Watching:  6.1  Hours","<b> Santa Clarita Diet <\/b><br /><br />Time Watching:  0.5  Hours","<b> The Good Cop <\/b><br /><br />Time Watching:  7.6  Hours","<b> The Kominsky Method <\/b><br /><br />Time Watching:  1  Hours","<b> The Toys That Made Us <\/b><br /><br />Time Watching:  6  Hours","<b> Warrior <\/b><br /><br />Time Watching:  0.8  Hours","<b> Wolf <\/b><br /><br />Time Watching:  1.3  Hours","<b> All or Nothing: New Zealand All Blacks <\/b><br /><br />Time Watching:  4.3  Hours","<b> Goliath <\/b><br /><br />Time Watching:  6.9  Hours","<b> Homecoming <\/b><br /><br />Time Watching:  5.2  Hours","<b> Homeland <\/b><br /><br />Time Watching:  10.8  Hours","<b> Shameless <\/b><br /><br />Time Watching:  30  Hours","<b> Wynonna Earp <\/b><br /><br />Time Watching:  2.1  Hours","<b> La Mante <\/b><br /><br />Time Watching:  5.5  Hours","<b> Good Behavior <\/b><br /><br />Time Watching:  8.1  Hours","<b> Younger <\/b><br /><br />Time Watching:  22.7  Hours","<b> Merlí <\/b><br /><br />Time Watching:  0.8  Hours","<b> Black Lightning <\/b><br /><br />Time Watching:  5.6  Hours","<b> Dynasty <\/b><br /><br />Time Watching:  0.7  Hours","<b> Gossip Girl <\/b><br /><br />Time Watching:  0.7  Hours","<b> Hart of Dixie <\/b><br /><br />Time Watching:  8.3  Hours","<b> Riverdale <\/b><br /><br />Time Watching:  2.1  Hours","<b> Queen of the South <\/b><br /><br />Time Watching:  13.8  Hours","<b> Shooter <\/b><br /><br />Time Watching:  5.6  Hours","<b> The Sinner: Cora <\/b><br /><br />Time Watching:  5.6  Hours"],"parents":["","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","1TV (Russia)","ABC","ABC","ABC","ABC","ABC","ABC1 (Australia)","ABC1 (Australia)","Amazon","Amazon","BBC One","BBC One","BBC Two","CBC (Canada)","CBC (Canada)","CBS","CBS","CBS","CBS","Channel 4","Citytv (Canada)","Crave","E4 (UK)","E4 (UK)","Eleven (Australia)","Epix","F/X","FX","Fox","Fox","Freeform","HBO","HBO","HBO","HBO","Hallmark Channel","History","Hulu","Hulu","ICTV (Ukraine)","IFC","Lifetime","M6 (France)","NBC","NBC","NBC","NBC","NBC","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Prime Video","Prime Video","Prime Video","Showtime","Showtime","Syfy","TF1 (France)","TNT","TV Land","TV3 (Catalan)","The CW","The CW","The CW","The CW","The CW","USA","USA","USA"],"values":[49255,1550,7309,128,698,628,91,366,11910,41,282,320,980,958,510,527,175,1514,840,2631,42,780,584,49,356,420,45,1536,5643,985,2452,129,331,487,1361,50,1044,1503,1550,1241,4392,519,817,340,24,104,414,284,362,266,91,345,21,7331,4492,43,44,41,282,320,549,431,958,510,527,175,481,1033,840,261,684,611,1075,42,780,248,336,49,356,420,45,277,43,387,400,429,302,163,297,43,295,29,362,238,43,104,327,249,633,131,663,364,365,29,456,61,362,47,80,260,416,309,649,1803,129,331,487,1361,50,333,42,42,501,126,830,336,337],"type":"sunburst","branchvalues":"total","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(255,255,255,1)"}},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-ea608fa5f2919e1dabb3" style="width:100%;height:400px;"></div>
<script type="application/json" data-for="htmlwidget-ea608fa5f2919e1dabb3">{"x":{"visdat":{"2674681464b":["function () ","plotlyVisDat"]},"cur_data":"2674681464b","attrs":{"2674681464b":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"labels":{},"hoverinfo":"text","hovertext":{},"parents":{},"values":{},"type":"sunburst","branchvalues":"total","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"labels":["2019","ABC","ABC Family","AMC","AXN","Antena 3 (Spain)","BBC Three","BBC Two","BBC Two/Netflix","CBC","CBC Gem (Canada)","CBS","Citytv (Canada)","FX","Fox","Freeform","HBO","Hulu","IFC","La Une (Belgium)","NBC","Netflix","Prime Video","Rai 1 (Italy)","SoHo (Australia)","Starz","The CW","UPN","USA","Yle TV1","Grand Hotel","Harrow","Lost","The Good Doctor","The Rookie","Whiskey Cavalier","Bunheads","Lodge 49","Absentia","Money Heist","People Just Do Nothing","Big Dreams, Small Spaces","The World's Most Extraordinary Homes","Black Earth Rising","Burden of Truth","Northern Rescue","Criminal Minds","Evil","Madam Secretary","The Mentalist","The Unit","Bad Blood","The Assassination of Gianni Versace: American Crime Story","Lethal Weapon","Prodigal Son","The Resident","The Bold Type","Ballers","Billions","Chernobyl","Game of Thrones","Succession","The Righteous Gemstones","True Detective","Four Weddings and a Funeral","Veronica Mars","Brockmire","Unit 42","A.P. Bio","Good Girls","Great News","New Amsterdam","The Enemy Within","Conversations with a Killer: The Ted Bundy Tapes","Dead to Me","For the Win","Jack Whitehall: Travels with My Father","Marvel's The Punisher","My Next Guest Needs No Introduction With David Letterman","Sex Education","Stranger Things","Turn Up Charlie","Hanna","Medici: Masters of Florence","Medici: The Magnificent","Wentworth","Power","Hart of Dixie","Nikita","Veronica Mars","Veronica Mars","Shooter","The Sinner: Julian","Bordertown"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"hovertext":["<b> 2019 <\/b><br /><br />Time Watching:  540.4  Hours","<b> ABC <\/b><br /><br />Time Watching:  61.8  Hours","<b> ABC Family <\/b><br /><br />Time Watching:  13.1  Hours","<b> AMC <\/b><br /><br />Time Watching:  7.7  Hours","<b> AXN <\/b><br /><br />Time Watching:  14.1  Hours","<b> Antena 3 (Spain) <\/b><br /><br />Time Watching:  16.7  Hours","<b> BBC Three <\/b><br /><br />Time Watching:  0.5  Hours","<b> BBC Two <\/b><br /><br />Time Watching:  10.5  Hours","<b> BBC Two/Netflix <\/b><br /><br />Time Watching:  3.1  Hours","<b> CBC <\/b><br /><br />Time Watching:  7.3  Hours","<b> CBC Gem (Canada) <\/b><br /><br />Time Watching:  7.2  Hours","<b> CBS <\/b><br /><br />Time Watching:  88.8  Hours","<b> Citytv (Canada) <\/b><br /><br />Time Watching:  0.8  Hours","<b> FX <\/b><br /><br />Time Watching:  1.8  Hours","<b> Fox <\/b><br /><br />Time Watching:  42  Hours","<b> Freeform <\/b><br /><br />Time Watching:  7  Hours","<b> HBO <\/b><br /><br />Time Watching:  53.8  Hours","<b> Hulu <\/b><br /><br />Time Watching:  14.7  Hours","<b> IFC <\/b><br /><br />Time Watching:  2.9  Hours","<b> La Une (Belgium) <\/b><br /><br />Time Watching:  0.9  Hours","<b> NBC <\/b><br /><br />Time Watching:  35.9  Hours","<b> Netflix <\/b><br /><br />Time Watching:  43.2  Hours","<b> Prime Video <\/b><br /><br />Time Watching:  6.8  Hours","<b> Rai 1 (Italy) <\/b><br /><br />Time Watching:  8.1  Hours","<b> SoHo (Australia) <\/b><br /><br />Time Watching:  0.8  Hours","<b> Starz <\/b><br /><br />Time Watching:  27.3  Hours","<b> The CW <\/b><br /><br />Time Watching:  19.1  Hours","<b> UPN <\/b><br /><br />Time Watching:  31.2  Hours","<b> USA <\/b><br /><br />Time Watching:  10.5  Hours","<b> Yle TV1 <\/b><br /><br />Time Watching:  3  Hours","<b> Grand Hotel <\/b><br /><br />Time Watching:  9.3  Hours","<b> Harrow <\/b><br /><br />Time Watching:  8.6  Hours","<b> Lost <\/b><br /><br />Time Watching:  20.2  Hours","<b> The Good Doctor <\/b><br /><br />Time Watching:  9.3  Hours","<b> The Rookie <\/b><br /><br />Time Watching:  8.6  Hours","<b> Whiskey Cavalier <\/b><br /><br />Time Watching:  5.8  Hours","<b> Bunheads <\/b><br /><br />Time Watching:  13.1  Hours","<b> Lodge 49 <\/b><br /><br />Time Watching:  7.7  Hours","<b> Absentia <\/b><br /><br />Time Watching:  14.1  Hours","<b> Money Heist <\/b><br /><br />Time Watching:  16.7  Hours","<b> People Just Do Nothing <\/b><br /><br />Time Watching:  0.5  Hours","<b> Big Dreams, Small Spaces <\/b><br /><br />Time Watching:  2  Hours","<b> The World's Most Extraordinary Homes <\/b><br /><br />Time Watching:  8.5  Hours","<b> Black Earth Rising <\/b><br /><br />Time Watching:  3.1  Hours","<b> Burden of Truth <\/b><br /><br />Time Watching:  7.3  Hours","<b> Northern Rescue <\/b><br /><br />Time Watching:  7.2  Hours","<b> Criminal Minds <\/b><br /><br />Time Watching:  14.9  Hours","<b> Evil <\/b><br /><br />Time Watching:  3.6  Hours","<b> Madam Secretary <\/b><br /><br />Time Watching:  2.9  Hours","<b> The Mentalist <\/b><br /><br />Time Watching:  16.6  Hours","<b> The Unit <\/b><br /><br />Time Watching:  50.8  Hours","<b> Bad Blood <\/b><br /><br />Time Watching:  0.8  Hours","<b> The Assassination of Gianni Versace: American Crime Story <\/b><br /><br />Time Watching:  1.8  Hours","<b> Lethal Weapon <\/b><br /><br />Time Watching:  24.1  Hours","<b> Prodigal Son <\/b><br /><br />Time Watching:  4.4  Hours","<b> The Resident <\/b><br /><br />Time Watching:  13.4  Hours","<b> The Bold Type <\/b><br /><br />Time Watching:  7  Hours","<b> Ballers <\/b><br /><br />Time Watching:  4  Hours","<b> Billions <\/b><br /><br />Time Watching:  11.6  Hours","<b> Chernobyl <\/b><br /><br />Time Watching:  5.5  Hours","<b> Game of Thrones <\/b><br /><br />Time Watching:  7.8  Hours","<b> Succession <\/b><br /><br />Time Watching:  10.3  Hours","<b> The Righteous Gemstones <\/b><br /><br />Time Watching:  6.1  Hours","<b> True Detective <\/b><br /><br />Time Watching:  8.4  Hours","<b> Four Weddings and a Funeral <\/b><br /><br />Time Watching:  7.9  Hours","<b> Veronica Mars <\/b><br /><br />Time Watching:  6.8  Hours","<b> Brockmire <\/b><br /><br />Time Watching:  2.9  Hours","<b> Unit 42 <\/b><br /><br />Time Watching:  0.9  Hours","<b> A.P. Bio <\/b><br /><br />Time Watching:  4.6  Hours","<b> Good Girls <\/b><br /><br />Time Watching:  7  Hours","<b> Great News <\/b><br /><br />Time Watching:  2.8  Hours","<b> New Amsterdam <\/b><br /><br />Time Watching:  12.9  Hours","<b> The Enemy Within <\/b><br /><br />Time Watching:  8.6  Hours","<b> Conversations with a Killer: The Ted Bundy Tapes <\/b><br /><br />Time Watching:  3.9  Hours","<b> Dead to Me <\/b><br /><br />Time Watching:  3.9  Hours","<b> For the Win <\/b><br /><br />Time Watching:  2.6  Hours","<b> Jack Whitehall: Travels with My Father <\/b><br /><br />Time Watching:  1.8  Hours","<b> Marvel's The Punisher <\/b><br /><br />Time Watching:  11.4  Hours","<b> My Next Guest Needs No Introduction With David Letterman <\/b><br /><br />Time Watching:  5.1  Hours","<b> Sex Education <\/b><br /><br />Time Watching:  6.6  Hours","<b> Stranger Things <\/b><br /><br />Time Watching:  7.4  Hours","<b> Turn Up Charlie <\/b><br /><br />Time Watching:  0.4  Hours","<b> Hanna <\/b><br /><br />Time Watching:  6.8  Hours","<b> Medici: Masters of Florence <\/b><br /><br />Time Watching:  7.2  Hours","<b> Medici: The Magnificent <\/b><br /><br />Time Watching:  0.9  Hours","<b> Wentworth <\/b><br /><br />Time Watching:  0.8  Hours","<b> Power <\/b><br /><br />Time Watching:  27.3  Hours","<b> Hart of Dixie <\/b><br /><br />Time Watching:  1.4  Hours","<b> Nikita <\/b><br /><br />Time Watching:  3.5  Hours","<b> Veronica Mars <\/b><br /><br />Time Watching:  14.2  Hours","<b> Veronica Mars <\/b><br /><br />Time Watching:  31.2  Hours","<b> Shooter <\/b><br /><br />Time Watching:  9.1  Hours","<b> The Sinner: Julian <\/b><br /><br />Time Watching:  1.5  Hours","<b> Bordertown <\/b><br /><br />Time Watching:  3  Hours"],"parents":["","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","ABC","ABC","ABC","ABC","ABC","ABC","ABC Family","AMC","AXN","Antena 3 (Spain)","BBC Three","BBC Two","BBC Two","BBC Two/Netflix","CBC","CBC Gem (Canada)","CBS","CBS","CBS","CBS","CBS","Citytv (Canada)","FX","Fox","Fox","Fox","Freeform","HBO","HBO","HBO","HBO","HBO","HBO","HBO","Hulu","Hulu","IFC","La Une (Belgium)","NBC","NBC","NBC","NBC","NBC","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Netflix","Prime Video","Rai 1 (Italy)","Rai 1 (Italy)","SoHo (Australia)","Starz","The CW","The CW","The CW","UPN","USA","USA","Yle TV1"],"values":[32424,3705,787,464,846,1001,28,628,186,440,431,5329,46,107,2519,418,3226,883,176,53,2156,2591,409,485,48,1636,1145,1873,631,177,558,517,1214,558,513,345,787,464,846,1001,28,118,510,186,440,431,896,214,172,999,3048,46,107,1448,266,805,418,242,695,331,470,618,366,504,476,407,176,53,278,423,168,774,513,235,234,157,109,686,306,396,444,24,409,430,55,48,1636,83,209,853,1873,543,88,177],"type":"sunburst","branchvalues":"total","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(255,255,255,1)"}},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>TV shows Andy watched in 2018 and 2019 (as of October 30).</p>
</div>
</div>
<p>In looking at these plots, I must say that I watch more network TV than I thought I did (especially on CBS, which anecdotally I thought produced garbage). Although, many of the network shows were older shows that I watched on Netflix and Amazon Prime. The bevy of foreign networks each was primarily associated with a single show and more often than not were aired on Netflix. I am also starting to wonder about the cost-effectiveness for keeping HBO and Showtime, although my wife watches a lot of shows on those channels, so it is probably worth it.</p>
<p>Many of the network programs are available with regular Hulu, and outside of sports we could probably dump Hulu Live. But, to paraphrase the great comedian Steve Martin, sports is like the sun and a day without sun is like…well…night.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>